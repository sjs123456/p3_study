# !/usr/bin/env python# -*- coding:utf-8 -*-# author: sjs#三级菜单#对文件进行增删改查(添加删除操作)#能够返回上一级菜单#添加对应的省市def writeFile(fileName, data):    """    :param fileName:    :param data:    :return:    """    with open(fileName, 'w') as f_write:        f_write.write(str(data))def delFunc(cityList):    """    :param cityList:    :return:    """    print("》》》请输入要删除的对象的编号《《《")    printCity(cityList)    deleteNo = input(">>> :")    print("》》》输入输入“Y”确认删除《《《")    return deleteNodef printCity(cityList):    """    :param cityList:    :return:    """    for i in cityList:        print("%s.\t%s" % (cityList.index(i), i))exitFlag = FalsecurrentPage = 0filename1 = 'provinceData.txt'while True:    if exitFlag:        writeFile(filename1, provinceDataDict)        break    provinceData = open(filename1, 'r')    provinceDataDict = eval(provinceData.read())    provinceData.close()    provinceNameList = list(provinceDataDict.keys())    print('》》》请输入数字编号查看省份信息，输入”add“添加新的省份信息，输入”quit“退出程序《《《')    printCity(provinceNameList)    insertCode1 = input('>>> : ')    if insertCode1 == "quit":        writeFile(filename1, provinceDataDict)        break    elif insertCode1 == "add":        print("》》》请输入城市名称《《《")        newProvinceName = input(">>> :")        provinceDataDict[newProvinceName] = {}        writeFile(filename1, provinceDataDict)    elif insertCode1 == "del":        deleteNo = delFunc(provinceNameList)        ensureCode = input(">>> : ")        if ensureCode.upper() == "Y":            del provinceDataDict[provinceNameList[int(deleteNo)]]            writeFile(filename1,provinceDataDict)        else:            break    else:        while True:            if exitFlag:                break            try:                cityList = list(provinceDataDict[provinceNameList[int(insertCode1)]].keys())            except TypeError and IndexError:                print("》》》您的输入有误，请输入数字编号查看省份信息，输入”add“添加新的省份信息，输入”quit“退出程序《《《")                break            printCity(cityList)            currentPage += 1            print('》》》请输入数字编号查看城市信息，输入”add“添加新的城市信息，输入”back“返回上一级，输入”quit“退出程序《《《')            insertCode2 = input('>>> : ')            if insertCode2 == "quit":                exitFlag = True                break            elif insertCode2 == "add":                print("》》》请输入城市名称《《《")                newCityName = input(">>> :")                provinceDataDict[provinceNameList[int(insertCode1)]][newCityName] = []            elif insertCode2 == "back":                currentPage -= 1                break            elif insertCode2 == "del":                deleteNo = delFunc(cityList)                ensureCode = input(">>> : ")                if ensureCode.upper() == "Y":                    del provinceDataDict[provinceNameList[int(insertCode1)][cityList[int(deleteNo)]]]                    writeFile(filename1, provinceDataDict)                else:                    break            else:                while True:                    try:                        countyList = provinceDataDict[provinceNameList[int(insertCode1)]][cityList[int(insertCode2)]]                    except Exception as e:                        # print(e)                        print("》》》您的输入有误，请输入数字编号查看城市信息，输入”add“添加新的省份信息，输入”back“返回上一级，输入”quit“退出程序《《《")                        break                    printCity(countyList)                    currentPage += 1                    print('》》》输入”add“添加新的城市信息，输入”back“返回上一级，输入”quit“退出程序《《《')                    insertCode3 = input('>>> : ')                    if insertCode3 == "quit":                        exitFlag = True                        break                    elif insertCode3 == "add":                        print("》》》请输入城市名称《《《")                        newCountyName = input(">>> : ")                        provinceDataDict[provinceNameList[int(insertCode1)]][cityList[int(insertCode2)]].append(newCountyName)                    elif insertCode3 == "back":                        currentPage -= 1                        break                    elif insertCode2 == "del":                        deleteNo = delFunc(countyList)                        ensureCode = input(">>> : ")                        if ensureCode.upper() == "Y":                            del provinceDataDict[provinceNameList[int(insertCode1)][cityList[int(insertCode2)]]][int(deleteNo)]                            writeFile(filename1, provinceDataDict)                        else:                            break                    else:                        continue